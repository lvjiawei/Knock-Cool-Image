<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<!--
	knock,2010.10
	Project: konck_image
	-->
	<head>
	<?php
	session_start();
	session_register('user');
	?>
		<title>My Pictrue</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" type="text/css" href="index_css.css" />
		<script language="javascript"> 
		function checkemail()
		{
			var email=document.getElementById('email').value;
			var emailerr=0;
			for (i=0; i<email.length; i++) 
			{ 
				if ((email.charAt(i) == "@") & (email.length > 5)) 
				{ 
					emailerr=emailerr+1;
				} 
			} 
			if (emailerr != 1) 
			{ 
				alert("请输入正确的E-MAIL地址");
				return false;
			}
			return true;
		}
		function checkps()
		{
			var pw=document.getElementById('ps').value;
			var pw2=document.getElementById('ps2').value;
			if(pw == "")
			{
				alert("请输入登陆密码！");
				return false;
			}
			if(pw2 == "")
			{
				alert("请输入重复密码！");
				return false;
			}else if(pw != pw2)
			{
				alert("重复密码与登录密码不相同！");
				return false;
			}
			if(pw.length<6)
			{
				alert("密码长度小于6，请重新输入");
				return false;
			}
			return true;
		}
		function checkname()
		{
			var name=document.getElementById('name').value;
			if (name == "") 
			{ 
				alert("请输入昵称");  
				return false;
			}
			return true;
		}
		function checkpsquestion()
		{
			var pwq=document.getElementById('psquestion').value;
			if(pwq == "")
			{
				alert("请输入密保问题");
				return false;
			}
			if(pwq.length<3)
			{
				alert("密保问题长度小于3，请重新输入");
				return false;
			}
			return true;
		}
		function checkpsanswer()
		{
			var pwa=document.getElementById('psanswer').value;
			if(pwa == "")
			{
				alert("请输入密保问题答案");
				return false;
			}
			if(pwa.length<4)
			{
				alert("密保答案长度小于4，请重新输入");
				return false;
			}
			return true;
		}
		function CheckIfUsed()
		{
			var email=document.getElementById('email').value;
			window.open("usercheck.php?email="+email,"newframe","width=200,height=10,left=500,top=200,menubar=no,toolbar=no,location=no,scrollbars=no,location=no");
		}
		function checkall()
		{
			if(checkemail()&&checkps()&&checkname()&&checkpsquestion()&&checkpsanswer())
			{
				return true;
			}
			return false;
		}
		</script>
	</head>
	<body>
		<div class="signup">
			<form name="form1" action="signup.php" method="post" onSubmit="return checkall()">
				<table>
				<tr><td id="orange"><p>Email:</p></td><td><input type="text" name="email" id="email" class="text"></td></tr>
				<tr><td></td><td><input type="button" value="CheckIfUsed" class="button1" onclick="CheckIfUsed()"></td></tr>
				<tr><td id="orange"><p>Choose a password:</p> </td><td><input type="text" name="ps" id="ps" class="text"></td></tr>
				<tr><td id="orange"><p>Re-enter password:</p> </td><td><input type="text" name="ps2" id="ps2" class="text"></td></tr>
				<tr><td id="orange"><p>Name:</p></td><td><input type="text" name="name" id="name" class="text"></td></tr>
				<tr><td id="orange"><p>Birthyear:</p> </td><td><input type="text" name="byear" id="byear" class="text"></td></tr>
				<tr><td id="orange"><p>密保问题:</p> </td><td><input type="text" name="psquestion" id="psquestion" class="text"></td></tr>
				<tr><td id="orange"><p>密保答案:</p> </td><td><input type="text" name="psanswer" id="psanswer" class="text"></td></tr>
				<!--那个出生日期什么的其实可以不要，你觉得怎么好就怎么填啊-->
				<tr><td><textarea rows="3" cols="100">在w3school，你可以找到你所需要的所有的网站建设教程</textarea></td>
				<tr><td></td>
					<td><input type="submit" value="I accept. Create my account." class="button1" onclick="checkall()">
					</td>
				</tr>
			</table>
			</form>
		</div>
	</body>
</html>